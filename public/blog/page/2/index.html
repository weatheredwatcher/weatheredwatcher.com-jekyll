
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>weatheredwatcher</title>
  <meta name="author" content="weatheredwatcher">

  
  <meta name="description" content="Ok, so we start out today with a double reference!! First we are paying homage to the incredibly funny web-comic Hark! A Vagrant. If you are a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://weatheredwatcher.github.io/weatheredwatcher/blog/page/2/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="weatheredwatcher" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:weatheredwatcher.github.io/weatheredwatcher" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/">
        <span class="blue_light">
            weatheredwatcher
        </span>
       
           <span id="sub-title" class="blue_dark">
             ...creating chaos since 1981
           </span>
       
    </a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/09/hark-a-vagrant/">Hark a Vagrant</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-09T00:00:00-05:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ok, so we start out today with a double reference!!  First we are paying homage to the incredibly funny web-comic Hark! A Vagrant.  If you are a history nerd certainly check it out!!(Hark A Vagrant).  But we are really talking about the really cool vm utility Vagrant.  In a nut shell: You download/load a VM packaged as a vagrant box.  It is loaded and run in the background using Virtual Box.  Once properly setup, you can ssh into it as well as view it&rsquo;s web contents in a browser. (using port forwarding).  It can also be provisioned using Chef or Puppet. \nWhat this means is that you can configure a custom server environment ready for your entire team and they can download it ready to go&hellip;.or if you want to save on downloadings..you can create a base system and then write a provisioning script that installs EVERYTHING that is needed.  It&rsquo;s a pretty sweet little setup!  It&rsquo;s also a great way to play around with different languages/environments on the fly.  I built my own base Debian Wheezy box and I have been using it to play around with Node.js without compromising my work environment!
Some link love:</p>

<ul>
<li><a href="http://vagrantup.com/">Vagrant</a></li>
<li><a href="http://wiki.opscode.com/display/chef/Home">Chef</a></li>
<li><a href="http://docs.puppetlabs.com/pe/2.0/cloudprovisioner_overview.html">Puppet</a></li>
</ul>


<p>I must say, that despite what I have heard, it was very easy to get setup and going&hellip;but that might also be because I am already using Linux, and so all the tools are running native.  I&rsquo;m not going to go through the step by step
here..the site does a good job of that.  I thought about linking my Wheezy box, but it is pretty big (700+ mb image).  I still might, and post it as an update.  Regardless, it is fairly easy to get started&hellip;they link to a base
Ubuntu box in the instructions.  Once you have practiced deploying a server, the provisioning tool is a lot of fun.  I have been using puppet and it is fairly easy to use.  The fun trick was creating my own image.  You have to
build a base VM in Virtual Box.  Make sure that you do not install any kind of GUI/Window Management on the box as it is not needed!!  You can actually customize the image before you package it&hellip;add users, software, even sites.
If you are packaging for a team and size is not a major issue (say, if you are going to distribute it on a network share internally or something)you can forget about provisioning and load everything manually.  Otherwise making
good use of provisioning can bring the size down.  Once you have built the VM, it is a single command line in Vagrant to build the box for you.<br/>
Well&hellip;that&rsquo;s all that I have time for today! If you are interested in my base Wheezy box let me know in the comments and I will make sure and post it GitHub or something (that seems to where are the big kids are posting their
vagrant boxes&hellip;)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/03/new-relic/">New Relic</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-03T00:00:00-05:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have been using New Relic on my commercial server for a while now.  It&rsquo;s a great way to monitor all your customers sites/apps and make sure that things are running smoothly.  I really enjoy the weekly reports and the daily warnings if things are not running right.  I recently had a report of high cpu usage on my personal server and it let me know exactly what was causing the problem, so when I ssh&#8217;ed in to the server, I knew exactly what I needed to do!! Go and setup a free trial account right now and once you deploy to your server, they will send you a really cool t-shirt!!  And don&rsquo;t worry about cost!!  They have a basic version for free&hellip;or several hosts (AppFog, Rackspace) offer free standard monitoring with your server!! New Relic</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/14/using-like-to-make-better-queries/">Using Like to Make Better Queries</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-14T00:00:00-05:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today I am going to impart some more command line goodness on you! (You&rsquo;re welcome!)\n Last time we talked about using the     like term to pull out similar tables.  Now we will use it in a query to pull out similar values from a field.
 So here is the scenario: Let&rsquo;s say we are dealing with the WordPress options table.  All of our options are prefix with &lsquo;special_offers&rsquo;.  So rather then create multiple queries to pull the data from each one, we will use the like operator.</p>

<pre><code>select option_name, option_value from wp_options where option_name like 'special_offers%' \G
</code></pre>

<p>This returns all of the options that are prefixed with our &lsquo;special_offers&rsquo; prefix.  It&rsquo;s a great, easy way to pull options out of the database.</p>

<p>Now comes the fun part.  What about WordPress and it&rsquo;s built in function     get_option. True, but if you want the best performance, you don&rsquo;t want to make all those hits to the database.  So, lets create our own function that will let us use a more flexible mysql syntax</p>

<pre><code>function my_get_options($args)
{
    if(!is_array($args)){$needle = $args; $operator = '=';} else {
        $needle = $args['needle'];
        $default = (empty($args['default'])) ? '' : $args['default'];
        $operator = (empty($args['operator'])) ? '=' : $args['operator'];
    }

$query = "select option_name, option_value from wp_options where option_name $operator '$needle'";
$results = mysql_query($query)or die(mysql_error());
$num_rows = mysql_num_rows($results);
if($num_rows == 0)
$data = array($needle =&gt; $default);
     else {
        while($row = mysql_fetch_array($results)){
            $key = $row['option_name'];
            $value = $row['option_value'];
            $data[$key] = $value;
        }
    } 

return $data;
}
</code></pre>

<p> Yeah, that is a lot of code!  Let&rsquo;s go over it now.
So first of all, how do we implement this?</p>

<pre><code>$args = array('needle' =&gt; 'special_offers%', 'operator' =&gt; 'like');
$data = my_get_options($args);
</code></pre>

<p>The array sets the options (except for default, as this is really only useful for single options and not a group of options..I only included it to allow this to act as a total replacement for get_options)
 The args are parsed by a series of tests.  If it&rsquo;s not an array, we assume that $args is just a string with a needle.  Then we make sure that the optional arguments exist and if not, place default values in their place.  Finally we run the query.  We check for a response, so if there is no such options, the default value can be used. Finally, we return an array with the options in a key=>value paired array!
Even though we got a little bit WordPress specific at the end, this is some good solid db stuff that you can use whenever you have a lot of data.  Remember, the less calls you have to make to the database the faster and more efficient your code will run!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/30/two-pro-tricks-in-mysql/">Two Pro Tricks in MySQL</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-30T00:00:00-04:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Chances are you use some form of gui when you interact with MySQL.  Imaright?  I don&rsquo;t.  I prefer to use the command line tools for pretty much everything that I do.  MySQL is no exceptions.  That being said, these two tricks are very helpful, even if you normally use a gui&hellip;in fact, the second trick will work in the gui&rsquo;s as well, &lsquo;cause it is really just some really cool sql.\n The first thing that we are looking at is how we end a sql statement. Typically, you use the &rsquo;;&lsquo; to end your statements like this:</p>

<pre><code>SELECT * FROM table WHERE type="device";
</code></pre>

<p>A pro trick is to use &ldquo;\G&rdquo; like this:</p>

<pre><code>DESCRIBE table\G
</code></pre>

<p>So what is the difference?  Well, &ldquo;\G&rdquo; gives a much easier to read print out of the data then the traditional tabular form.</p>

<pre><code>mysql&gt; select * from cms_phone_features where entry_id=4766\G 
*************************** 1. row *************************** 
entry_id: 4766
  row_id: 18973
  row_order: 0
  style: Touch Screen
  keyboard: Virtual
  camera_front: 1.3-megapixel
  camera_rear: 3.2-megapixel
1 row in set (0.00 sec)
</code></pre>

<p> The second trick that we are going to show today is some cool sql.  So here is the scenario:  You are dealing with a very large database with a massive amount of tables.  Now, all you really want to deal with are a subset of these tables.  They all happen to be prefixed &lsquo;ds_&rsquo;.  So how can we list just these tables?</p>

<pre><code>show tables like 'ds%'\G
</code></pre>

<p>The &lsquo;like&rsquo; term will list tables like whatever string you follow with.  The string must be in &lsquo;&rsquo; and the % is a wildcard that matches anything.</p>

<p> Not so bad huh?  As I am trying to strengthen my dba chops, you will be seeing database specific entries mixed in with my programming entries.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/25/finally-made-it-to-17/">Finally Made It to 17</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-25T00:00:00-04:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I usually like to on the cutting edge of my Linux, so it&rsquo;s kind of a shocker that I just now installed Fedora 17 on my laptop.  I intended t o do it much sooner, but important projects kept getting in the way.  I finally did a preupgrade and tried to update my live system&hellip;.but ended up crashing it anyway.  I did a reinstall and it was for the better.  I had a somewhat precarious partitioning scheme in place and I had recently upgrqaded my ram to the max 8 gigs for my machine&hellip;so some re-partitioning was certainly in order.\n I must say that I am impressed again with the latest Fedora offering.  Now I can&rsquo;t wait for 18!!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
<section>
	<span>
		<img src="http://www.gravatar.com/avatar/ccb5d4d24f11aa4bf8388dab7051ef38" alt="Gravatar of weatheredwatcher " title="Gravatar of weatheredwatcher" />
	</span>
</section>
<section>
  <h1>About Me</h1>
  <p>Born in 1981 and creating chaos ever since.  Father.  Geek.  Free Software Enthusist</p>
</section>
<section id="badges">
      <a href="http://debian.org/"><img src="http://www.debian.org/logos/button-mini.png"></a>
	    <a href="http://fedoraproject.org/"><img src="images/fedora_button.png" alt=""></a>
	    <a href="http://www.catb.org/hacker-emblem/"><img src="http://www.weatheredwatcher.com/img/hacker.png" alt=""></a>
	    <a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="http://www.weatheredwatcher.com/img/cc-license_80x15.png" alt=""></a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/02/using-zend-config-files-everywhere/">Using Zend Style Config Files Everywhere</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/01/preparing-a-dev-environment-with-puppet/">Preparing a Dev Environment with Puppet</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/24/running-multiple-apps-on-nodejs/">Running Multiple Apps On NodeJs</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/09/cloud9-ide/">Cloud9 IDE</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/07/2013-is-here-people/">2013 is here people</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/weatheredwatcher">@weatheredwatcher</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'weatheredwatcher',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Latest Tweets</h1>
<a class="twitter-timeline"  href="https://twitter.com/DavidDuggins"  data-widget-id="469096456695980032">Tweets by @DavidDuggins</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>


</section>
<section>
  <h2> Coding Playlist </h2>
<iframe src="https://embed.spotify.com/?uri=spotify:user:weatheredwatcher:playlist:5xsZotbtCqUi9BdmXzPJhC" width="250" height="330" frameborder="0" allowtransparency="true"></iframe>
</section>
<section id="fedora_badge">
  <a href="http://fedoraproject.com/en_GB/get-fedora"><img alt="Fedora 20 Heisenbug is here!" src="http://fedoraproject.org/static/images/banners/f20release.png"></a>
</section>
<section id="conferencs">
   <a href="http://www.northeastphp.org"><img src="http://www.northeastphp.org/boston_conference/img/logo.png" alt="I'm Speaking at NEPHP Conference, Boston" border="0"></a>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - weatheredwatcher -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'weatheredwatcher';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
