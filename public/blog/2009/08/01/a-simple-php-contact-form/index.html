<p>\n    Let&rsquo;s take a little break from the MVC concept and look at a simple but effective PHP mailer.  Like the PHP framework, I wrote this mailer from scratch just to show how easy it is to code pure PHP applications.</p>

<p>Lets first look at a bit of PHP &ldquo;magic.&rdquo;</p>

<pre><code>if (isset($_POST['Submit'])){
    send_mail($_POST['subject'], $_POST['message'], $_POST['header']);
}
 else {
    show_form();
}
</code></pre>

<p>Okay, time to break it down.</p>

<pre><code>if (isset($_POST['Submit']))
</code></pre>

<p>This checks the post to see if a submit button was pressed.  If so, it will carry out the code:</p>

<pre><code>send_mail("me@mysite.com", $_POST['subject'], $_POST['message'], $_POST['header']);
</code></pre>

<p>If there was no submit, because the page has just been loaded or an error occured, the following code is ran:</p>

<pre><code>show_form();
</code></pre>

<p>The remainder of the program is contained in two functions, both of which we have already referred to.  The first function is simple enough. It contains a single echo statement that creates the html code for a form.</p>

<p>The second function, sends the mail.</p>

<pre><code>function send_mail($subject, $message, $header){
    $to = "myemail@mysite.com";
    mail($to, $subject, $message, $header);
    echo("Thank you for sending me an email....I'll get back to you as soon as I can");
}
</code></pre>

<p>We could convert the POSTS to variables before we use them.</p>

<pre><code>$subject = $_POST['subject'];
$message = $_POST['message'];
$header = $_POST['header'];
</code></pre>

<p>This allows us to make some modifications to the header.</p>

<pre><code>from = "From:".$header;
</code></pre>

<p>This is of course is a very simple implementation of the PHP mail function.  You can find a great deal more information on the PHP website.  Stay tuned for our next installment.</p>
